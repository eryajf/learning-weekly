---
title: å­¦ä¹ å‘¨åˆŠ-æ€»ç¬¬152æœŸ-2024å¹´ç¬¬13å‘¨
date: 2024-03-28 22:20:39
permalink: /pages/36ea62/
categories:
  - å‘¨åˆŠ
  - å­¦ä¹ å‘¨åˆŠ
  - 2024å¹´
tags:
  -
feed:
  enable: true
description: å­¦ä¹ å‘¨åˆŠ-æ€»ç¬¬152æœŸã€‚ä¸€ä¸ªç®€å•çš„æ„å»ºæ¡†æ¶ï¼Œå…·æœ‰å¿«é€Ÿã€å¯é‡å¤çš„æ„å»ºå’Œç«‹å³ç†Ÿæ‚‰çš„è¯­æ³• - å°±åƒ Dockerfile å’Œ Makefile ä¸€æ ·ã€‚
---


### 0 ï¼Œå‰è¨€

å‘¨åˆŠç»´æŠ¤åœ¨ï¼š[https://github.com/eryajf/learning-weekly](https://github.com/eryajf/learning-weekly)  æ¬¢è¿æŠ•ç¨¿ï¼Œæ¨èæˆ–è‡ªèé¡¹ç›® /æ–‡ç«  /åšå®¢ï¼Œè¯·æäº¤ issue ã€‚

å‘¨åˆŠæ ¸å¿ƒä¸ºè¿ç»´å‘¨åˆŠï¼Œè¿˜ä¼šä¾§é‡Goè¯­è¨€ç”Ÿæ€ï¼ŒVueç›¸å…³æŠ€æœ¯ç”Ÿæ€çš„é¡¹ç›®ï¼Œä»¥åŠ GitHub ä¸Šä¼˜ç§€é¡¹ç›®æˆ–ç»éªŒã€‚

ä½ ä¹Ÿå¯ä»¥åœ¨æˆ‘çš„åšå®¢ [https://wiki.eryajf.net/learning-weekly/](https://wiki.eryajf.net/learning-weekly/) æŸ¥çœ‹æ±‡æ€»å‘¨åˆŠã€‚

ğŸ”¥ æœ‰ä¸å°‘äººæƒ³å•ç‹¬ä»åšå®¢é€šè¿‡ RSS è®¢é˜…å‘¨åˆŠçš„æ›´æ–°ï¼Œç°åœ¨å®ƒæ¥äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ª[ğŸ”— é“¾æ¥](https://wiki.eryajf.net/learning-weekly.xml)è¿›è¡Œè®¢é˜…ã€‚

### 1ï¼Œä¼˜ç§€é¡¹ç›®

---
- é¡¹ç›®åœ°å€ï¼š[go-jsonstruct](https://github.com/twpayne/go-jsonstruct)
- é¡¹ç›®è¯´æ˜ï¼šä¸€æ¬¾èƒ½å¤Ÿå°† JSON å†…å®¹è½¬æ¢ä¸ºç»“æ„ä½“çš„å‘½ä»¤è¡Œå·¥å…·ã€‚
>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š
```sh
echo '{"age":37,"user_height_m":2}' \
    '{"age":38,"user_height_m":1.7,"favoriteFoods":["cake"]}' \
    | gojsonstruct
```
>å°†ä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š
```go
package main

type T struct {
    Age           int      `json:"age"`
    FavoriteFoods []string `json:"favoriteFoods,omitempty"`
    UserHeightM   float64  `json:"user_height_m"`
}
```
---
- é¡¹ç›®åœ°å€ï¼š[earthly](https://github.com/earthly/earthly)
- é¡¹ç›®è¯´æ˜ï¼šä¸€ä¸ªç®€å•çš„æ„å»ºæ¡†æ¶ï¼Œå…·æœ‰å¿«é€Ÿã€å¯é‡å¤çš„æ„å»ºå’Œç«‹å³ç†Ÿæ‚‰çš„è¯­æ³• - å°±åƒ Dockerfile å’Œ Makefile ä¸€æ ·ã€‚
æ¯”å¦‚æœ‰å¦‚ä¸‹ go ä»£ç :

```go
// main.go
package main

import "fmt"

func main() {
  fmt.Println("hello world")
}
```

æŒ‡å®š earthly é…ç½®å¦‚ä¸‹ï¼š
```sh
# Earthfile
VERSION 0.8
FROM golang:1.15-alpine3.13
RUN apk --update --no-cache add git
WORKDIR /go-example

all:
  BUILD +lint
  BUILD +docker

build:
  COPY main.go .
  RUN go build -o build/go-example main.go
  SAVE ARTIFACT build/go-example AS LOCAL build/go-example

lint:
  RUN go get golang.org/x/lint/golint
  COPY main.go .
  RUN golint -set_exit_status ./...

docker:
  COPY +build/go-example .
  ENTRYPOINT ["/go-example/go-example"]
  SAVE IMAGE go-example:latest
```
ç„¶åæ‰§è¡Œ `earthly +all` å‘½ä»¤è¿›è¡Œæ„å»ºï¼š
![](https://t.eryajf.net/imgs/2024/03/1709946777385.gif)
å¯ä»¥è€ƒè™‘ä½œä¸ºæ„å»ºå·¥å…·é›†æˆåˆ°æµæ°´çº¿å½“ä¸­ã€‚
![](https://t.eryajf.net/imgs/2024/03/1709946870638.png)

---
- é¡¹ç›®åœ°å€ï¼š[lobe-chat](https://github.com/lobehub/lobe-chat)
- é¡¹ç›®è¯´æ˜ï¼šä¸€ä¸ªå¼€æºã€ç°ä»£è®¾è®¡çš„ ChatGPT/LLM UI/æ¡†æ¶ã€‚æ”¯æŒè¯­éŸ³åˆæˆã€å¤šæ¨¡æ€å’Œå¯æ‰©å±•ï¼ˆå‡½æ•°è°ƒç”¨ï¼‰æ’ä»¶ç³»ç»Ÿã€‚ä¸€é”®å…è´¹éƒ¨ç½²æ‚¨çš„ç§äºº ChatGPT/Gemini/Ollama èŠå¤©åº”ç”¨ç¨‹åºã€‚
  ![](https://t.eryajf.net/imgs/2024/03/1710041727504.png)
---

### 2ï¼Œä¼˜ç§€æ–‡ç« 

---
- [using curl command in pod lifecycle poststart hooks](https://stackoverflow.com/questions/68947359/using-curl-command-in-pod-lifecycle-poststart-hooks)
- å¦‚é¢˜ï¼Œåœ¨ k8s çš„ yaml ä¸­ï¼Œå¦‚æœ command ä¸­çš„ curl å‘½ä»¤å¼•ç”¨äº†è¿è¡Œæ—¶çš„å˜é‡ï¼Œéœ€è¦æ³¨æ„ä½¿ç”¨ `${}` çš„æ–¹å¼æ¥å¼•ç”¨ï¼Œè€Œä¸è¦ç›´æ¥å¼•ç”¨ï¼Œå¦åˆ™å˜é‡ä¼šè¢«è§£æï¼Œä¸”è§£æä¸ºç©ºã€‚
---
- [How to solve ptrace operation not permitted when trying to attach GDB to a process?](https://stackoverflow.com/questions/19215177/how-to-solve-ptrace-operation-not-permitted-when-trying-to-attach-gdb-to-a-pro)
- å¦‚æœ docker run è¿è¡Œå®¹å™¨ä¹‹åï¼Œä½¿ç”¨ strace æŠ“å–è¿›ç¨‹è°ƒç”¨æŠ¥é”™ï¼Œæ­¤æ–‡ç»™äº†è§£å†³æ–¹æ¡ˆã€‚å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨å‘½ä»¤å¢åŠ  `--privileged --cap-add=SYS_PTRACE --security-opt seccomp=unconfined` å‚æ•°æ¥è§£å†³ã€‚
---

### 3ï¼Œä¼˜ç§€åšå®¢

---
- åšå®¢åœ°å€ï¼š[æ•–æ­¦çš„åšå®¢](https://z.wiki/)
- ç®€å•è¯´æ˜ï¼šå¾ˆä¼˜ç§€çš„åšä¸»ï¼Œåšå®¢å†…å®¹å¾ˆå¥½ï¼Œå€¼å¾—ä¸€è¯»
---
- åšå®¢åœ°å€ï¼š[HTMLrev](https://htmlrev.com/)
- ç®€å•è¯´æ˜ï¼šæ±‡é›†äº†å¤§é‡å…è´¹ä¼˜ç¾çš„ html æ¨¡æ¿çš„ç«™ç‚¹ã€‚å®˜ç½‘ï¼Œè½åœ°é¡µï¼Œäº§å“é¡µï¼Œéƒ½å¯ä»¥åœ¨è¿™é‡Œå¯»æ‰¾ã€‚
---
